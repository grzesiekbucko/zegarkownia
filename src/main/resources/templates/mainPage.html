<!DOCTYPE html>
<html lang="pl" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Zegarkownia</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
          th:href="@{https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css}"
          integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

    <!-- NProgress -->
    <link href="../static/css/nprogress.css" th:href="@{/css/nprogress.css}" rel="stylesheet" type="text/css"/>
    <!-- Custom Theme Style -->
    <link href="../static/css/custom.min.css" th:href="@{/css/custom.min.css}" rel="stylesheet" type="text/css"/>
    <!-- Google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet"
          th:href="@{https://fonts.googleapis.com/css?family=Roboto&display=swap}">
    <link href="https://fonts.googleapis.com/css?family=Kaushan+Script|Tinos&display=swap"
          th:href="@{https://fonts.googleapis.com/css?family=Kaushan+Script|Tinos&display=swap}" rel="stylesheet">

    <!-- Datatables -->
    <link href="../static/css/dataTables.bootstrap.min.css" rel="stylesheet"
          th:href="@{/css/dataTables.bootstrap.min.css}">
    <link href="../static/css/buttons.bootstrap.min.css" rel="stylesheet" th:href="@{/css/buttons.bootstrap.min.css}">
    <link href="../static/css/fixedHeader.bootstrap.min.css" rel="stylesheet"
          th:href="@{/css/fixedHeader.bootstrap.min.css}">
    <link href="../static/css/responsive.bootstrap.min.css" rel="stylesheet"
          th:href="@{/css/responsive.bootstrap.min.css}">
    <link href="../static/css/scroller.bootstrap.min.css" rel="stylesheet" th:href="@{/css/scroller.bootstrap.min.css}">

    <!-- PNotify -->
    <link href="../static/css/pnotify.css" rel="stylesheet" th:href="@{/css/pnotify.css}">
    <link href="../static/css/pnotify.buttons.css" rel="stylesheet" th:href="@{/css/pnotify.buttons.css}">
    <link href="../static/css/pnotify.nonblock.css" rel="stylesheet" th:href="@{/css/pnotify.nonblock.css}">


</head>

<body class="nav-md">
<div class="container body">

    <div class="main_container">

        <!-- sidebar -->
        <div data-th-replace="fragments/sidebar :: sidebar-main"></div>
        <!-- /sidebar -->

        <!-- top navigation -->
        <div data-th-replace="fragments/top-navigation :: top-nav"></div>
        <!-- /top navigation -->

        <!-- page content -->
        <div class="right_col" role="main">
            <div class="">
                <div class="clearfix"></div>
                <!-- top tiles -->
                <div class="row col-12" style="display: inline-block;">
                    <div class="tile_count">
                        <div class="col-md-2  tile_stats_count">
                            <span class="count_top"><i class="fa fa-clock-o"></i> ilość zegarków</span>
                            <div class="count green" th:text="' ' + ${product_counter}"></div>
                            <span class="count_bottom"> marko.pl</span>
                        </div>
                        <div class="col-md-2  tile_stats_count">
                            <span class="count_top"><i class="fa fa-university"></i> Magazyn marko</span>
                            <div class="count" th:text="' ' + ${product_24godziny}"></div>
                            <span class="count_bottom"><i class="green"
                                                          th:text="' ' + ${percent_24godziny}+'%'"></i></span>
                        </div>
                        <div class="col-md-2  tile_stats_count">
                            <span class="count_top"><i class="fa fa-truck"></i> Magazyn zewnętrzny</span>
                            <div class="count" th:text="' ' + ${product_5dni}"></div>
                            <span class="count_bottom"><i class="green" th:text="' ' + ${percent_5dni}+'%'"></i></span>
                        </div>
                        <div class="col-md-2  tile_stats_count">
                            <span class="count_top"><i class="fa fa-tag"></i> producentów</span>
                            <div class="count" th:text="' '+${brand_counter}"></div>
                            <span class="count_bottom"> marko.pl</span>
                        </div>
                        <div class="col-md-2  tile_stats_count">
                            <span class="count_top"><i class="fa fa-clock-o"></i> ilość zegarków</span>
                            <div class="count" th:text="${zegarek_net_product_counter}"></div>
                            <span class="count_bottom"> zegarek.net</span>
                        </div>
                        <div class="col-md-1  tile_stats_count">
                            <span class="count_top"><i class="fa fa-tag"></i> producentów</span>
                            <div class="count" th:text="' '+${zegarek_net_brand_counter}"></div>
                            <span class="count_bottom"> zegarek.net</span>
                        </div>

                        <div class="col-md-1  tile_stats_count">
                            <span class="count_top"><i class="fa fa-long-arrow-down red"></i> do poprawy</span>
                            <div class="count red" th:text="' '+${worst_price_counter}"></div>
                        </div>

                    </div>
                </div>
                <!-- /top tiles -->

                <!-- chart -->
                <div class="row">
                    <div class="col-12">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2><i class="fa fa-bar-chart"></i>
                                    <small></small>
                                </h2>
                                <ul class="nav navbar-right panel_toolbox">
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                                           aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                            <a class="dropdown-item" href="#">Settings 1</a>
                                            <a class="dropdown-item" href="#">Settings 2</a>
                                        </div>
                                    </li>
                                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                                    </li>
                                </ul>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                <ul class="nav nav-tabs bar_tabs" id="myTab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home"
                                           role="tab" aria-controls="home" aria-selected="true">Produkty z podzialem na
                                            magazyn</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile"
                                           role="tab" aria-controls="profile" aria-selected="false">Porównanie ilości
                                            produktów</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact"
                                           role="tab" aria-controls="contact" aria-selected="false">Produkty do poprawy
                                            cen</a>
                                    </li>
                                </ul>
                                <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane fade show active" id="home" role="tabpanel"
                                         aria-labelledby="home-tab">
                                        <div class="x_content" style="height: 350px !important">
                                            <canvas id="magChart"></canvas>
                                            <script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/
                                var mag_label_table = [];
                                var mag_data_table_1 = [];
                                var mag_data_table_2 = [];

                                /*[# th:each="key: ${brand_list_name}"]*/
                                mag_label_table.push(/*[[ ${key} ]]*/);
                                mag_data_table_1.push(/*[[ ${map24godz.get(key)} ]]*/);
                                mag_data_table_2.push(/*[[ ${map5dni.get(key)} ]]*/);
                                /*[/]*/
/*]]>*/

                                            </script>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="profile" role="tabpanel"
                                         aria-labelledby="contact-tab">
                                        <div class="x_content" style="height: 350px !important">
                                            <canvas id="brandChart"></canvas>
                                            <script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/
                                var brand_label_table = [];
                                var brand_data_table_1 = [];
                                var brand_data_table_2 = [];

                                /*[# th:each="key: ${brand_list_name}"]*/
                                brand_label_table.push(/*[[ ${key} ]]*/);
                                brand_data_table_1.push(/*[[ ${map_Marko_Prod.get(key)} ]]*/);
                                brand_data_table_2.push(/*[[ ${map_Zega_Net_Prod.get(key)} ]]*/);
                                /*[/]*/
/*]]>*/

                                            </script>
                                        </div>

                                    </div>

                                    <div class="tab-pane fade" id="contact" role="tabpanel"
                                         aria-labelledby="profile-tab">
                                        <div class="x_content row" style="height: 350px !important">
                                            <canvas id="brandComparedChart" class="col-8"></canvas>
                                            <canvas id="brandComparedChartPie" class="col-4"></canvas>
                                            <script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/
                                var compared_brand_label_table = [];
                                var compared_brand_data_table = [];
                                var compared_brand_data_table_2 = [];

                                /*[# th:each="key: ${map_compared_prod_brand.keySet()}"]*/
                                compared_brand_label_table.push(/*[[ ${key} ]]*/);
                                compared_brand_data_table.push(/*[[ ${map_compared_prod_shiping.get(key)} ]]*/);
                                compared_brand_data_table_2.push(/*[[ ${map_compared_prod_shiping_5dni.get(key)} ]]*/);
                                  /*[/]*/
                                /*]]>*/

                                            </script>
                                            <script type="text/javascript" th:inline="javascript">
/*<![CDATA[*/
                                var compared_brand_label_chart = [];
                                var compared_brand_data_chart = [];

                                /*[# th:each="key: ${map_compared_prod_sale.keySet()}"]*/
                                compared_brand_label_chart.push(/*[[ ${key} ]]*/);
                                compared_brand_data_chart.push(/*[[ ${map_compared_prod_sale.get(key)} ]]*/);
                                /*[/]*/
/*]]>*/

                                            </script>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- /chart -->
                <div class="row">
                    <div class="col-md-12 col-sm-12 ">
                        <div class="x_panel">
                            <div class="x_title">
                                <h2>Produkty z ceną wyższą od:
                                    <small>Zegarek.net</small>
                                </h2>
                                <ul class="nav navbar-right panel_toolbox">
                                    <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                    </li>
                                    <li class="dropdown">
                                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                                           aria-expanded="false"><i class="fa fa-wrench"></i></a>
                                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                            <a class="dropdown-item" href="#">Settings 1</a>
                                            <a class="dropdown-item" href="#">Settings 2</a>
                                        </div>
                                    </li>
                                    <li><a class="close-link"><i class="fa fa-close"></i></a>
                                    </li>
                                </ul>
                                <div class="clearfix"></div>
                            </div>
                            <div class="x_content">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div class="card-box table-responsive">
                                            <table id="datatable-buttons" class="table table-striped table-bordered"
                                                   style="width:100%">
                                                <thead>
                                                <tr>
                                                    <th>#</th>
                                                    <th>Marka</th>
                                                    <th>Kod</th>
                                                    <th>Cena marko</th>
                                                    <th>Promocja marko</th>
                                                    <th>Wysyłka</th>
                                                    <th>Cena zegarek.net</th>
                                                    <th>Promocja zegarek.net</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr th:each="product, iStat : ${product_list}">
                                                    <td th:text="${iStat.count}"></td>
                                                    <td th:text="${product.productBrand}"></td>
                                                    <td th:text="${product.productKod}"></td>
                                                    <td>
                                                        <a th:text="${product.newPrice}"
                                                           th:href="${product.markoLink}"></a>
                                                    </td>
                                                    <td th:text="${product.percentSale}"></td>
                                                    <td th:text="${product.shiping}"></td>
                                                    <td>
                                                        <a th:text="${product.zegarekNetNewPrice}"
                                                           th:href="${product.zegarekNetLink}"></a>
                                                    </td>
                                                    <td th:text="${product.zegarekNetPercentSale}"></td>

                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


            </div>
        </div>
        <!-- /page content -->

        <!-- footer content -->
        <div data-th-replace="fragments/footer :: footer-bar"></div>
        <!-- /footer content -->
    </div>
</div>
<!-- jQuery -->
<script
        src="https://code.jquery.com/jquery-2.2.4.js"
        th:src="@{https://code.jquery.com/jquery-2.2.4.js}"
        integrity="sha256-iT6Q9iMJYuQiMWNd9lDyBUStIq/8PuOW33aOqmvFpqI="
        crossorigin="anonymous"></script>

<!-- Bootstrap -->
<script type="text/javascript" src="../static/js/bootstrap.bundle.min.js"
        th:src="@{/js/bootstrap.bundle.min.js}"></script>

<!-- FastClick -->
<script type="text/javascript" src="../static/js/fastclick.js" th:src="@{/js/fastclick.js}"></script>

<!-- NProgress -->
<script type="text/javascript" src="../static/js/nprogress.js" th:src="@{/js/nprogress.js}"></script>

<!-- FontAwesome -->
<script src="https://use.fontawesome.com/2d4a782e0b.js" th:src="@{https://use.fontawesome.com/2d4a782e0b.js}"></script>

<!-- Custom Theme Scripts -->
<script type="text/javascript" src="../static/js/custom.min.js" th:src="@{/js/custom.min.js}"></script>

<!-- Chart.js -->
<script type="text/javascript" src="../static/js/Chart.min.js" th:src="@{/js/Chart.min.js}"></script>

<!-- Fragments -->
<script type="text/javascript" src="../static/js/fragments.js" th:src="@{/js/fragments.js}"></script>

<!-- Datatables -->
<script src="../static/js/jquery.dataTables.min.js" th:src="@{/js/jquery.dataTables.min.js}"></script>
<script src="../static/js/dataTables.bootstrap.min.js" th:src="@{/js/dataTables.bootstrap.min.js}"></script>
<script src="../static/js/dataTables.buttons.min.js" th:src="@{/js/dataTables.buttons.min.js}"></script>
<script src="../static/js/buttons.flash.min.js" th:src="@{/js/buttons.flash.min.js}"></script>
<script src="../static/js/buttons.html5.min.js" th:src="@{/js/buttons.html5.min.js}"></script>
<script src="../static/js/buttons.print.min.js" th:src="@{/js/buttons.print.min.js}"></script>
<script src="../static/js/buttons.bootstrap.min.js" th:src="@{/js/buttons.bootstrap.min.js}"></script>

<script src="../static/js/dataTables.fixedHeader.min.js" th:src="@{/js/dataTables.fixedHeader.min.js}"></script>
<script src="../static/js/dataTables.keyTable.min.js" th:src="@{/js/dataTables.keyTable.min.js}"></script>

<script src="../static/js/dataTables.responsive.min.js" th:src="@{/js/dataTables.responsive.min.js}"></script>
<script src="../static/js/responsive.bootstrap.js" th:src="@{/js/responsive.bootstrap.js}"></script>

<script src="../static/js/dataTables.scroller.min.js" th:src="@{/js/dataTables.scroller.min.js}"></script>

<script src="../static/js/jszip.min.js" th:src="@{/js/jszip.min.js}"></script>
<script src="../static/js/pdfmake.min.js" th:src="@{/js/pdfmake.min.js}"></script>
<script src="../static/js/vfs_fonts.js" th:src="@{/js/vfs_fonts.js}"></script>

<!-- PNotify -->
<script src="../static/js/pnotify.js" th:src="@{/js/pnotify.js}"></script>
<script src="../static/js/dist/pnotify.buttons.js" th:src="@{/js/pnotify.buttons.js}"></script>
<script src="../static/js/pnotify.nonblock.js" th:src="@{/js/pnotify.nonblock.js}"></script>
</body>
</html>
